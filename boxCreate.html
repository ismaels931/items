<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<title>Sample</title>
		<style type="text/css">
			body {
				margin: 0px;
				padding: 0px;
			}
			.container {
				position: absolute;
				height: 100%;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div class="container"></div>
	</body>
	<script type="text/javascript">
		let caja;

		function ampliar(event) {
			let anchura = caja.style.width;
			let altura = caja.style.height;

			anchura = parseInt(anchura.slice(0, anchura.indexOf("p")));
			altura = parseInt(altura.slice(0, altura.indexOf("p")));

			anchura += event.movementX;
			altura += event.movementY;

			caja.style.width = anchura + "px";
			caja.style.height = altura + "px";
		}

		function crear(event) {
			caja = document.createElement("div");
			caja.style.border = "1px solid";
			caja.style.width = "1px";
			caja.style.height = "1px";

			let x = event.clientX - 3;
			let y = event.clientY - 3;

			caja.style.position = "absolute";
			caja.style.left = x + "px";
			caja.style.top = y + "px";

			document.getElementsByClassName("container")[0].appendChild(caja);

			window.addEventListener("mousemove", ampliar);

			window.addEventListener("mouseup", () => {
				window.removeEventListener("mousemove", ampliar);
			});
		}

		window.addEventListener("mousedown", crear);
	</script>
</html>